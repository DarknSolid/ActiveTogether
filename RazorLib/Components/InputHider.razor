
<MudPaper Style="height:fit-content" Class=@("rounded-pill " + (_showContent ? "px-5 py-3 " : "pa-2 ")) Elevation="3">

    @if (_showContent)
    {
        <MudStack Spacing="0" Row="true" Style="width:100%; height:100%;" Justify="Justify.SpaceAround" AlignItems="AlignItems.Center">
            @ChildContent
            <MudDivider Light=true Vertical="true" Style="height:auto" Class="ml-2"/>
            <MudButton Style="height:fit-content;" Class="pa-1" Variant=Variant.Text OnClick=ToggleShow>Fjern</MudButton>
        </MudStack>
    }
    else
    {
        <MudButton Variant=Variant.Text OnClick=ToggleShow StartIcon="@Icons.Material.Filled.AddCircleOutline">@OnHiddenText</MudButton>
    }
</MudPaper>

@code {

    [Parameter]
    public string OnHiddenText { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public Action? OnHide { get; set; }

    [Parameter]
    public Action? OnShow { get; set; }

    private bool _showContent;


    private void ToggleShow()
    {
        _showContent = !_showContent;
        if (_showContent)
        {
            if (OnShow is not null)
            {
                OnShow();
            }
        }
        else
        {
            if (OnHide is not null)
            {
                OnHide();
            }
        }
        StateHasChanged();
    }
}
